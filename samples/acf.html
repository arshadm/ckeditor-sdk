<!DOCTYPE html>
<!--
Copyright (c) 2003-2014, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
-->
<html>
<head>
	<meta charset="utf-8">
	<meta name="sdk-category" content="Integration">
	<meta name="sdk-subcategory" content="Advanced Content Filter">
	<meta name="description" content="Advanced Content Filtering. Configuring allowed and disallowed tags.">
	<meta name="keywords" content="ACF, advanced content filter, content filtering, removing tags, deleting tags, html lost, elements removed">
	<meta name="sdk-samples" content="Automatic mode|Automatic mode with extra allowed content|Disabling ACF">
	<title>ACF - Automatic Mode</title>
	<link href="http://fonts.googleapis.com/css?family=Maven+Pro:700,500,400" rel="stylesheet">
	<link href="../theme/css/sdk.css" rel="stylesheet">
	<script src="../vendor/ckeditor/ckeditor.js"></script>
	<script src="assets/sample.js"></script>
	<script src="assets/contentloaded.js"></script>
	<script src="assets/simplesample.js"></script>
	<script src="assets/beautify-html.js"></script>
	<!--[if lt IE 9]>
	<script src="assets/html5shiv.min.js"></script>
	<![endif]-->
</head>
<body>
<header class="sdk-header">
</header>
<section class="sdk-container">
	<nav class="sdk-sidebar">
	</nav>
	<section class="sdk-contents">
		<h1>Advanced Content Filter<a class="documentation" href="http://docs.ckeditor.com/#!/guide/dev_advanced_content_filter-section-automatic-mode">Documentation</a></h1>
		<p>Advanced Content Filter (ACF) is an important CKEditor core feature that <strong>filters incoming HTML content</strong>, by transforming and deleting disallowed elements, attributes, classes and styles.
			By default is is enabled and works in <strong><a href="http://docs.ckeditor.com/#!/guide/dev_advanced_content_filter-section-automatic-mode">automatic mode</a></strong>, which means that CKEditor will only accept content that was defined as allowed by enabled CKEditor features (such as plugins, buttons).
		</p>
		<p>ACF is highly configurable and powerful, thus comes with an extensive documentation, basics are explained in the <a href="http://docs.ckeditor.com/#!/guide/dev_acf">Configuration</a> part and thourough guide is available in the <a href="http://docs.ckeditor.com/#!/guide/dev_advanced_content_filter">Deep Dive</a> section.</p>
		<p style="margin-top: 20px">The following text will be used in each sample to show different filtering options:</p>
		<div style="padding: 0px 20px 10px; border: 1px dotted #bbb;">
			<p>A sample <u>heavily formatted text</u>, using <strong><span style="font-family: 'Comic Sans MS';font-size:16px">different fonts</span></strong> and <span style="font-size:18px;color:#00FF00;background-color: #FFFF00">text colors</span>. </p>
			<label for="samplehmtl">Source code:</label>
			<textarea cols="110" rows="3" class="disabled" id="samplehmtl">&lt;p&gt;A sample &lt;u&gt;heavily formatted text&lt;/u&gt;, using &lt;strong&gt;&lt;span style="font-family: 'Comic Sans MS';font-size:16px"&gt;different fonts&lt;/span&gt;&lt;/strong&gt; and &lt;span style="font-size:18px;color:#00FF00;background-color: #FFFF00"&gt;text colors&lt;/span&gt;. &lt;/p&gt;</textarea>
		</div>
		<script data-sample="1,2,3">
			// ACF is enabled by default regardless whether toolbar configuration is provided or not.
			// By having less features enabled in the toolbar it should be easier to understand how ACF works.
			CKEDITOR.config.toolbar = [
				{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ], items: [ 'Bold', 'Italic', 'Strike', '-', 'RemoveFormat' ] },
				{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi' ], items: [ 'NumberedList', 'BulletedList', '-', 'Outdent', 'Indent', '-', 'Blockquote' ] },
				{ name: 'links', items: [ 'Link', 'Unlink' ] },
				{ name: 'insert', items: [ 'Image' ] },
				{ name: 'document', groups: [ 'mode', 'document', 'doctools' ], items: [ 'Source' ] },
				{ name: 'about', items: [ 'About' ] }
			];
			CKEDITOR.config.height = 150;
			// Autogrow has nothing to do with ACF.
			// However, to make users comfortable while pasting content into a tiny editing area, we would let it grow.
			CKEDITOR.config.extraPlugins = 'autogrow';
			CKEDITOR.config.autoGrow_maxHeight = 500;
			CKEDITOR.config.autoGrow_minHeight = 150;
		</script>
		<h2>Automatic mode</h2>
		<p>In the sample below CKEditor works in automatic mode (default behavior, requires no configuration):</p>
		<ul>
			<li>Color buttons are not available, also there are no buttons to set font size or family. As a result CKEditor will not accept such content.</li>
			<li>Bold button is enabled, so the bold formatting (via <code>&lt;strong&gt;</code> element) is preserved.</li>
		</ul>
		<textarea cols="80" id="editor1" name="editor1" rows="10" data-sample="1">&lt;p&gt;A sample &lt;u&gt;heavily formatted text&lt;/u&gt;, using &lt;strong&gt;&lt;span style="font-family: 'Comic Sans MS';font-size:16px"&gt;different fonts&lt;/span&gt;&lt;/strong&gt; and &lt;span style="font-size:18px;color:#00FF00;background-color: #FFFF00"&gt;text colors&lt;/span&gt;. &lt;/p&gt;</textarea>
		<script data-sample="1">

			CKEDITOR.replace( 'editor1' );

		</script>
		<h2>Adjusting automatic mode</h2>
		<p>It is possible to allow or disallow additional elements or properties in CKEditor by passing special configuration options: <code><a href="http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-extraAllowedContent">config.extraAllowedContent</a></code> and <code><a href="http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-disallowedContent">config.disallowedContent</a></code>.</p>
		<p>In this example <code>config.extraAllowedContent = 'u;span{color}'</code> has the following consequences:</p>
		<ul>
			<li><code>&lt;u&gt;</code> element is allowed, so the underlined text is left, although the Underline button is not available.</code></li>
			<li><code>&lt;span style="color:..."&gt;</code> is allowed, so the green text is left.</li>
		</ul>
		<textarea cols="80" id="editor2" name="editor1" rows="10" data-sample="2">&lt;p&gt;A sample &lt;u&gt;heavily formatted text&lt;/u&gt;, using &lt;strong&gt;&lt;span style="font-family: 'Comic Sans MS';font-size:16px"&gt;different fonts&lt;/span&gt;&lt;/strong&gt; and &lt;span style="font-size:18px;color:#00FF00;background-color: #FFFF00"&gt;text colors&lt;/span&gt;. &lt;/p&gt;</textarea>
		<script data-sample="3">

			CKEDITOR.replace( 'editor2', {
				extraAllowedContent: 'u;span{color}'
			} );

		</script>
		<h2>Disabling ACF</h2>
		<p>Turning off ACF is very simple and requires setting a simple configuration option: <code>config.allowedContent = true</code>. As a consequence, CKEditor will not try to filter entered content, also during paste operation.</p>
		<p>Experiment and try pasting content from various sources into the editor below and into the first one (with automatic mode). Compare the results.</p>
		<textarea cols="80" id="editor3" name="editor1" rows="10" data-sample="3">&lt;p&gt;A sample &lt;u&gt;heavily formatted text&lt;/u&gt;, using &lt;strong&gt;&lt;span style="font-family: 'Comic Sans MS';font-size:16px"&gt;different fonts&lt;/span&gt;&lt;/strong&gt; and &lt;span style="font-size:18px;color:#00FF00;background-color: #FFFF00"&gt;text colors&lt;/span&gt;. &lt;/p&gt;</textarea>
		<script data-sample="2">

			CKEDITOR.replace( 'editor3', {
				allowedContent: true
			} );

		</script>

		<div class="todo">
			<ul>
				<li>Ticket na wywalenie zależności od fonts.googleapis.com w samplach, które mają działać offline</li>
				<li>Jsduck głupio skroluje podając mu link <a href="http://docs.ckeditor.com/#!/guide/dev_advanced_content_filter-section-automatic-mode">do automatic mode</a> (nagłówka nie widać)</li>
				<li>Docsy do ACF powinny być skorygowane z uwagi na przyszłe wyrzucenie przykładu datafiltering.html. Wyjaśnienie automatic i custom mode powinno być opisowe, bez linkowania do zewnętrznych przykładów. Sample SDK będę linkować do docsów wymieniając np. słowo "automatic mode", więc głupio jakby dokumentacja przekierowyała użytkownika z powrotem po wyjaśnienie. Da się opisać automatic mode i custom mode bez odnoszenia się do sampli - sample powinny być podlinkowane jedynie na zasadzie "see it in action", mając już pełne zrozumienie tematu.</li>
			</ul>
		</div>
	</section>
</section>

<footer class="sdk-footer">
</footer>
</body>
</html>